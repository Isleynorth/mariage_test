<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Faire-part de Mariage - Fanny & Virginie</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;600;700&family=Cormorant+Garamond:ital,wght@0,300;0,400;0,600;1,400&family=Philosopher:ital,wght@0,400;0,700;1,400&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <!-- Particules magiques flottantes -->
    <div class="particles">
        <span class="particle" style="--delay: 0s; --duration: 8s; --x: 10%; --y: 20%;">âœ¨</span>
        <span class="particle" style="--delay: 1s; --duration: 10s; --x: 80%; --y: 30%;">â­</span>
        <span class="particle" style="--delay: 2s; --duration: 12s; --x: 20%; --y: 60%;">ğŸ’«</span>
        <span class="particle" style="--delay: 0.5s; --duration: 9s; --x: 60%; --y: 40%;">âœ¨</span>
        <span class="particle" style="--delay: 1.5s; --duration: 11s; --x: 90%; --y: 70%;">ğŸŒŸ</span>
        <span class="particle" style="--delay: 2.5s; --duration: 13s; --x: 15%; --y: 80%;">â­</span>
        <span class="particle" style="--delay: 0.8s; --duration: 10s; --x: 40%; --y: 15%;">âœ¨</span>
        <span class="particle" style="--delay: 1.8s; --duration: 14s; --x: 70%; --y: 85%;">ğŸ’«</span>
        <span class="particle" style="--delay: 2.2s; --duration: 9s; --x: 25%; --y: 45%;">ğŸŒŸ</span>
        <span class="particle" style="--delay: 1.2s; --duration: 11s; --x: 85%; --y: 55%;">âœ¨</span>
    </div>

    <!-- Audio de fond -->
    <audio id="backgroundMusic" autoplay loop muted preload="auto">
        <source src="audio/musique-mariage.mp3" type="audio/mpeg">
        Votre navigateur ne supporte pas l'Ã©lÃ©ment audio.
    </audio>

    <!-- ContrÃ´le musical flottant -->
    <div id="musicControl" class="music-control" title="Cliquez pour activer la musique">
        <span id="musicIcon" class="music-icon">ğŸµ</span>
        <span id="musicStatus" class="music-status">Cliquez pour la musique</span>
    </div>

    <!-- Hero Section avec image de fond -->
    <section class="hero">
        <div class="hero-overlay"></div>
        <!-- Aurore borÃ©ale -->
        <div class="aurora"></div>
        <!-- Ã‰toiles filantes -->
        <div class="shooting-stars">
            <span class="shooting-star" style="--delay: 2s; --duration: 1.5s; --top: 10%; --left: 20%;"></span>
            <span class="shooting-star" style="--delay: 5s; --duration: 1.8s; --top: 30%; --left: 60%;"></span>
            <span class="shooting-star" style="--delay: 8s; --duration: 1.6s; --top: 50%; --left: 80%;"></span>
            <span class="shooting-star" style="--delay: 11s; --duration: 1.7s; --top: 20%; --left: 40%;"></span>
            <span class="shooting-star" style="--delay: 14s; --duration: 1.9s; --top: 60%; --left: 15%;"></span>
        </div>
        <div class="hero-content fade-in">
            <div class="ornament pulse">ğŸŒ™</div>
            <h1 class="hero-title">Fanny & Virginie</h1>
            <p class="hero-subtitle">Se marient</p>
            <div class="ornament pulse">âœ¨</div>
            <div class="hero-date">30 Mai 2026</div>
        </div>
        <div class="scroll-indicator">
            <span>â†“</span>
        </div>
    </section>

    <div class="container">
        <header class="header slide-up">
            <div class="ornament rotate-on-hover">ğŸ”®</div>
            <h1 class="title">Faire-part de Mariage</h1>
            <div class="ornament rotate-on-hover">ğŸ”®</div>
        </header>

        <main class="content">
            <section class="couple slide-up delay-1">
                <h2 class="names">Fanny & Virginie</h2>
                <p class="subtitle">ont le plaisir de vous inviter Ã  cÃ©lÃ©brer leur union</p>

                <!-- Compte Ã  rebours -->
                <div class="countdown" id="countdown">
                    <div class="countdown-item">
                        <span class="countdown-value" id="days">0</span>
                        <span class="countdown-label">Jours</span>
                    </div>
                    <div class="countdown-separator">ğŸŒ™</div>
                    <div class="countdown-item">
                        <span class="countdown-value" id="hours">0</span>
                        <span class="countdown-label">Heures</span>
                    </div>
                    <div class="countdown-separator">âœ¨</div>
                    <div class="countdown-item">
                        <span class="countdown-value" id="minutes">0</span>
                        <span class="countdown-label">Minutes</span>
                    </div>
                    <div class="countdown-separator">ğŸ’«</div>
                    <div class="countdown-item">
                        <span class="countdown-value" id="seconds">0</span>
                        <span class="countdown-label">Secondes</span>
                    </div>
                </div>
            </section>

            <!-- SÃ©parateur dÃ©coratif -->
            <div class="section-divider">
                <span class="divider-icon">ğŸŒ™</span>
                <span class="divider-line"></span>
                <span class="divider-icon">âœ¨</span>
                <span class="divider-line"></span>
                <span class="divider-icon">ğŸŒ™</span>
            </div>

            <!-- Galerie de photos -->
            <section class="gallery slide-up delay-2">
                <div class="gallery-grid">
                    <div class="gallery-item fade-in-up">
                        <img src="https://plus.unsplash.com/premium_photo-1674435578145-4ba6ce1dd95c?w=800&h=600&fit=crop" alt="Couple de mariÃ©es">
                    </div>
                    <div class="gallery-item fade-in-up delay-1">
                        <img src="https://images.unsplash.com/photo-1609150996011-63c238b520fa?w=800&h=600&fit=crop" alt="CÃ©rÃ©monie de mariage">
                    </div>
                    <div class="gallery-item fade-in-up delay-2">
                        <img src="https://plus.unsplash.com/premium_photo-1674435576732-04d133c2e57a?w=800&h=600&fit=crop" alt="DÃ©tails mariage">
                    </div>
                </div>
            </section>

            <!-- SÃ©parateur dÃ©coratif -->
            <div class="section-divider">
                <span class="divider-icon">ğŸ”®</span>
                <span class="divider-line"></span>
                <span class="divider-icon">ğŸ’«</span>
                <span class="divider-line"></span>
                <span class="divider-icon">ğŸ”®</span>
            </div>

            <section class="details slide-up delay-3">
                <div class="detail-item zoom-on-hover">
                    <div class="detail-icon">ğŸŒ™</div>
                    <h3>Date</h3>
                    <p>Vendredi 30 Mai 2026</p>
                    <p class="time">Ã  15h30</p>
                </div>

                <div class="detail-item zoom-on-hover">
                    <div class="detail-icon">ğŸ°</div>
                    <h3>CÃ©rÃ©monie</h3>
                    <p>Mairie d'Obernai</p>
                    <p class="address">Place du MarchÃ©</p>
                    <p class="address">67210 Obernai</p>
                </div>

                <div class="detail-item zoom-on-hover">
                    <div class="detail-icon">ğŸ•¯ï¸</div>
                    <h3>RÃ©ception</h3>
                    <p>ChÃ¢teau de la Belle Vue</p>
                    <p class="address">DÃ®ner et soirÃ©e dansante</p>
                    <p class="time">Ã  partir de 19h00</p>
                </div>
            </section>

            <!-- Citation romantique -->
            <section class="quote slide-up delay-4">
                <blockquote>
                    <p>"L'amour ne consiste pas Ã  se regarder l'un l'autre, mais Ã  regarder ensemble dans la mÃªme direction."</p>
                    <cite>- Antoine de Saint-ExupÃ©ry</cite>
                </blockquote>
            </section>

            <!-- SÃ©parateur dÃ©coratif -->
            <div class="section-divider">
                <span class="divider-icon">ğŸ•¯ï¸</span>
                <span class="divider-line"></span>
                <span class="divider-icon">â­</span>
                <span class="divider-line"></span>
                <span class="divider-icon">ğŸ•¯ï¸</span>
            </div>

            <section class="rsvp slide-up delay-5">
                <h3>Merci de confirmer votre prÃ©sence</h3>
                <p class="rsvp-deadline">Avant le 15 Avril 2026</p>
                <div class="contact">
                    <p>Email : <a href="mailto:fanny.virginie2026@exemple.fr">fanny.virginie2026@exemple.fr</a></p>
                    <p>TÃ©lÃ©phone : 06 12 34 56 78</p>
                </div>
                <div class="rsvp-button-container">
                    <a href="mailto:fanny.virginie2026@exemple.fr?subject=RSVP Mariage Fanny & Virginie" class="rsvp-button">Confirmer ma prÃ©sence</a>
                </div>
            </section>
        </main>

        <footer class="footer fade-in">
            <div class="ornament rotate-on-hover">â­</div>
            <p>Nous avons hÃ¢te de partager ce jour avec vous</p>
            <div class="ornament rotate-on-hover">â­</div>
        </footer>
    </div>

    <!-- Bouton retour en haut -->
    <button id="backToTop" class="back-to-top" title="Retour en haut">
        ğŸŒ™
    </button>

    <!-- Barre de progression de scroll -->
    <div class="scroll-progress" id="scrollProgress"></div>

    <!-- Lightbox pour la galerie -->
    <div id="lightbox" class="lightbox">
        <span class="lightbox-close">&times;</span>
        <div class="lightbox-content">
            <span class="lightbox-prev">&#10094;</span>
            <img id="lightboxImg" src="" alt="Image agrandie">
            <span class="lightbox-next">&#10095;</span>
        </div>
        <div class="lightbox-caption"></div>
    </div>

    <!-- Script pour les animations au scroll -->
    <script>
        // ============================================
        // CURSOR TRAIL (TraÃ®nÃ©e de curseur)
        // ============================================
        let lastSparkleTime = 0;
        const sparkleDelay = 50; // ms entre chaque Ã©tincelle
        const sparkleEmojis = ['âœ¨', 'â­', 'ğŸ’«', 'ğŸŒŸ'];

        document.addEventListener('mousemove', (e) => {
            const now = Date.now();
            if (now - lastSparkleTime < sparkleDelay) return;
            lastSparkleTime = now;

            const sparkle = document.createElement('span');
            sparkle.className = 'cursor-sparkle';
            sparkle.textContent = sparkleEmojis[Math.floor(Math.random() * sparkleEmojis.length)];
            sparkle.style.left = e.clientX + 'px';
            sparkle.style.top = e.clientY + 'px';

            document.body.appendChild(sparkle);

            setTimeout(() => {
                sparkle.remove();
            }, 1000);
        });

        // Animation au scroll
        const observerOptions = {
            threshold: 0.1,
            rootMargin: '0px 0px -50px 0px'
        };

        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('visible');
                }
            });
        }, observerOptions);

        document.querySelectorAll('.slide-up, .fade-in-up, .zoom-on-hover').forEach((el) => {
            observer.observe(el);
        });

        // Animation smooth scroll
        document.querySelector('.scroll-indicator')?.addEventListener('click', () => {
            document.querySelector('.container').scrollIntoView({ behavior: 'smooth' });
        });

        // ============================================
        // COMPTE Ã€ REBOURS
        // ============================================
        const weddingDate = new Date('2026-05-30T15:30:00').getTime();

        function updateCountdown() {
            const now = new Date().getTime();
            const distance = weddingDate - now;

            if (distance < 0) {
                document.getElementById('countdown').innerHTML = '<p style="font-size: 2em; color: #fbbf24;">Le grand jour est arrivÃ©! âœ¨</p>';
                return;
            }

            const days = Math.floor(distance / (1000 * 60 * 60 * 24));
            const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
            const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
            const seconds = Math.floor((distance % (1000 * 60)) / 1000);

            document.getElementById('days').textContent = days;
            document.getElementById('hours').textContent = hours;
            document.getElementById('minutes').textContent = minutes;
            document.getElementById('seconds').textContent = seconds;
        }

        // Mettre Ã  jour immÃ©diatement puis toutes les secondes
        updateCountdown();
        setInterval(updateCountdown, 1000);

        // ============================================
        // BACK TO TOP BUTTON & SCROLL PROGRESS
        // ============================================
        const backToTopBtn = document.getElementById('backToTop');
        const scrollProgress = document.getElementById('scrollProgress');

        window.addEventListener('scroll', () => {
            // Scroll progress bar
            const winScroll = document.body.scrollTop || document.documentElement.scrollTop;
            const height = document.documentElement.scrollHeight - document.documentElement.clientHeight;
            const scrolled = (winScroll / height) * 100;
            scrollProgress.style.width = scrolled + '%';

            // Back to top button
            if (winScroll > 300) {
                backToTopBtn.classList.add('visible');
            } else {
                backToTopBtn.classList.remove('visible');
            }
        });

        backToTopBtn.addEventListener('click', () => {
            window.scrollTo({
                top: 0,
                behavior: 'smooth'
            });
        });

        // ============================================
        // LIGHTBOX GALERIE
        // ============================================
        const lightbox = document.getElementById('lightbox');
        const lightboxImg = document.getElementById('lightboxImg');
        const lightboxCaption = document.querySelector('.lightbox-caption');
        const closeBtn = document.querySelector('.lightbox-close');
        const prevBtn = document.querySelector('.lightbox-prev');
        const nextBtn = document.querySelector('.lightbox-next');
        const galleryItems = document.querySelectorAll('.gallery-item img');
        let currentIndex = 0;

        function openLightbox(index) {
            currentIndex = index;
            const img = galleryItems[index];
            lightboxImg.src = img.src;
            lightboxCaption.textContent = img.alt;
            lightbox.classList.add('active');
            document.body.style.overflow = 'hidden';
        }

        function closeLightbox() {
            lightbox.classList.remove('active');
            document.body.style.overflow = 'auto';
        }

        function showNext() {
            currentIndex = (currentIndex + 1) % galleryItems.length;
            openLightbox(currentIndex);
        }

        function showPrev() {
            currentIndex = (currentIndex - 1 + galleryItems.length) % galleryItems.length;
            openLightbox(currentIndex);
        }

        // Event listeners
        galleryItems.forEach((img, index) => {
            img.addEventListener('click', () => openLightbox(index));
        });

        closeBtn.addEventListener('click', closeLightbox);
        nextBtn.addEventListener('click', showNext);
        prevBtn.addEventListener('click', showPrev);

        // Fermer avec Escape
        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape' && lightbox.classList.contains('active')) {
                closeLightbox();
            } else if (e.key === 'ArrowRight' && lightbox.classList.contains('active')) {
                showNext();
            } else if (e.key === 'ArrowLeft' && lightbox.classList.contains('active')) {
                showPrev();
            }
        });

        // Fermer en cliquant sur le fond
        lightbox.addEventListener('click', (e) => {
            if (e.target === lightbox) {
                closeLightbox();
            }
        });

        // ============================================
        // CONTRÃ”LE MUSICAL
        // ============================================
        const audio = document.getElementById('backgroundMusic');
        const musicControl = document.getElementById('musicControl');
        const musicIcon = document.getElementById('musicIcon');
        const musicStatus = document.getElementById('musicStatus');

        let isMuted = true;
        let isPlaying = false;

        // Charger la prÃ©fÃ©rence utilisateur depuis localStorage
        const savedMusicState = localStorage.getItem('weddingMusicEnabled');

        // Fonction pour mettre Ã  jour l'interface
        function updateUI() {
            if (!isPlaying) {
                musicControl.classList.remove('playing', 'muted');
                musicIcon.textContent = 'ğŸ”‡';
                musicStatus.textContent = 'Musique en pause';
            } else if (isMuted) {
                musicControl.classList.remove('playing');
                musicControl.classList.add('muted');
                musicIcon.textContent = 'ğŸ”‡';
                musicStatus.textContent = 'Cliquez pour activer';
            } else {
                musicControl.classList.add('playing');
                musicControl.classList.remove('muted');
                musicIcon.textContent = 'ğŸµ';
                musicStatus.textContent = 'Musique activÃ©e';
            }
        }

        // Fonction pour activer/dÃ©sactiver la musique
        function toggleMusic() {
            if (!isPlaying) {
                // DÃ©marrer la lecture
                audio.play().then(() => {
                    isPlaying = true;
                    isMuted = false;
                    audio.muted = false;
                    localStorage.setItem('weddingMusicEnabled', 'true');
                    updateUI();
                }).catch(err => {
                    console.log('Autoplay bloquÃ©, utilisateur doit interagir:', err);
                });
            } else if (isMuted) {
                // RÃ©activer le son
                audio.muted = false;
                isMuted = false;
                localStorage.setItem('weddingMusicEnabled', 'true');
                updateUI();
            } else {
                // DÃ©sactiver la musique (pause)
                audio.pause();
                isPlaying = false;
                isMuted = true;
                localStorage.setItem('weddingMusicEnabled', 'false');
                updateUI();
            }
        }

        // Event listener pour le contrÃ´le
        musicControl.addEventListener('click', toggleMusic);

        // DÃ©marrage automatique de la musique
        window.addEventListener('load', () => {
            // Tenter de dÃ©marrer la musique avec son
            audio.muted = false;
            audio.play().then(() => {
                isPlaying = true;
                isMuted = false;
                localStorage.setItem('weddingMusicEnabled', 'true');
                updateUI();
            }).catch(() => {
                // Si bloquÃ© par le navigateur, essayer en muted
                audio.muted = true;
                audio.play().then(() => {
                    isPlaying = true;
                    isMuted = true;
                    updateUI();
                }).catch(() => {
                    // Si toujours bloquÃ©, rester en pause
                    isPlaying = false;
                    isMuted = true;
                    updateUI();
                });
            });
        });

        // DÃ©tecter si la musique se joue automatiquement (peu probable)
        audio.addEventListener('play', () => {
            if (!isPlaying) {
                isPlaying = true;
                updateUI();
            }
        });

        audio.addEventListener('pause', () => {
            if (isPlaying) {
                isPlaying = false;
                updateUI();
            }
        });

        // Initialiser l'UI
        updateUI();
    </script>
</body>
</html>
